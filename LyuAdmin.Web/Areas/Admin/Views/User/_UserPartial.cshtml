@model LyuAdmin.Users.Dto.UserDto
@{
    var isAdmin = Model.UserName == "admin";
}
@if (Model.Id > 0)
{
    <input type="hidden" name="Id" value="@Model.Id" />
}

<div class="row">
    <div class="col-sm-4 text-center">
        <img src="~/Content/Common/Images/default-profile-picture.png" width="128" height="128" class="img-thumbnail img-rounded user-edit-dialog-profile-image" />
    </div>
    <div class="col-sm-8">
        <div class="form-group">
            @Html.Bootstrap().LabelFor(x => x.Name).ShowRequiredStar(false)
            @Html.Bootstrap().TextBoxFor(x => x.Name)
        </div>

        <div class="form-group form-md-line-input form-md-floating-label no-hint">
            @Html.Bootstrap().LabelFor(x => x.Surname).ShowRequiredStar(false)
            @Html.Bootstrap().TextBoxFor(x => x.Surname)
        </div>
    </div>
</div>
<div class="form-group">
    @Html.Bootstrap().LabelFor(x => x.EmailAddress).ShowRequiredStar(false)
    @Html.Bootstrap().TextBoxFor(x => x.EmailAddress)

</div>
<div class="form-group">
    @Html.Bootstrap().LabelFor(x => x.UserName).ShowRequiredStar(false)
    @Html.Bootstrap().TextBoxFor(x => x.UserName).Disabled(isAdmin)
    
    @if (isAdmin)
    {
        <span class="help-block">管理用户，不能修改用户名.</span>
    }
</div>

<div class="md-checkbox-list">
    <div class="md-checkbox">
        <input id="EditUser_SetRandomPassword" class="md-check" type="checkbox" name="SetRandomPassword" value="true" />
        <label for="EditUser_SetRandomPassword">
            <span class="inc"></span>
            <span class="check"></span>
            <span class="box"></span>
            使用随机密码
        </label>
    </div>
</div>
<div class="form-group form-md-line-input form-md-floating-label no-hint" style="display: block">
    @Html.Bootstrap().LabelFor(x => x.Password)
    @Html.Bootstrap().PasswordFor(x => x.Password)
</div>
<div class="form-group form-md-line-input form-md-floating-label no-hint" style="display: block">
    @Html.Bootstrap().LabelFor(x => x.PasswordRepeat)
    @Html.Bootstrap().PasswordFor(x => x.PasswordRepeat)
</div>
<div class="md-checkbox-list">
    <div class="md-checkbox">
        @Html.Bootstrap().CheckBoxFor(x => x.ShouldChangePasswordOnNextLogin)
        @Html.Bootstrap().LabelFor(x => x.ShouldChangePasswordOnNextLogin).ShowRequiredStar(false)
    </div>
    <div class="md-checkbox">
        @Html.Bootstrap().CheckBoxFor(x => x.SendActivationEmail)
        @Html.Bootstrap().LabelFor(x => x.SendActivationEmail).ShowRequiredStar(false)
    </div>
    <div class="md-checkbox">
        @Html.Bootstrap().CheckBoxFor(x => x.IsActive)
        @Html.Bootstrap().LabelFor(x => x.IsActive).ShowRequiredStar(false)
    </div>
</div>